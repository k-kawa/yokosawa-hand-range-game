# GEMINI.md

## プロジェクト概要 (Project Overview)

このプロジェクトは、ポーカーのテキサス・ホールデムにおけるプリフロップのハンドレンジを学ぶためのインタラクティブなクイズゲームです。
元々は、ポーカープレイヤーである世界のヨコサワ氏が提唱するハンドレンジ戦略を学習するために作成されました。
ユーザーにはランダムに2枚のカード（ハンド）が提示され、そのハンドで取るべきアクションを9つの選択肢から選びます。

## 主な機能 (Main Features)

-   **ハンドのランダム生成**: 52枚のカードからランダムに2枚のカードを組み合わせ、問題として提示します。
-   **クイズ機能**: 提示されたハンドに対して、予め定義されたハンドレンジ表に基づき、9段階のランク（A〜I）から対応するアクションを選択します。
-   **正解判定**: ユーザーの選択が正解かどうかを判定し、結果を表示します。
-   **正解の表示**: 不正解だった場合、正解のアクションランクと、そのハンドがハンドレンジ表のどこに位置するかを示します。
-   **ハンドレンジチャートの表示**: 不正解の場合、全てのハンドとそのアクションランクを示した完全なハンドレンジチャートが表示され、視覚的に学習をサポートします。
-   **繰り返し学習**: 「次の問題へ」ボタンで、次々と新しい問題に挑戦できます。

## ファイル構成 (File Structure)

```
.
├── README.md
├── app.js
├── index.html
└── style.css
```

## 画面構成 (Screen Layout)

HTML (`index.html`) は以下の主要な要素で構成されています。

-   `quiz-container`: クイズ全体のコンテナ。
-   `question`: 問題提示エリア。
    -   `hand-display`: ランダムに選ばれた2枚のカードが表示される。
-   `actions`: 9つのアクションボタン（A〜I）がグリッド状に配置される。
-   `result`: 正解・不正解のメッセージや、正解のアクションが表示されるエリア。
    -   `chart-container`: 不正解時にハンドレンジチャートが表示される。
-   `next-button`: 次の問題へ進むためのボタン。
-   `footer`: 解説動画や開発者ノートへのリンクが含まれる。

## ゲームロジック (Game Logic)

ゲームの主要なロジックは `app.js` に記述されています。

-   `handStrengthMatrix`: 13x13の二次元配列で、プリフロップの全てのハンドの組み合わせ（スーテッド、オフスート、ポケットペア）に対するアクションランク（A〜I）を定義したものです。これがこのゲームの正解データの核となります。
-   `generateAndShowQuestion()`: 新しい問題を生成する関数。デッキを初期化し、ランダムにハンドを選び、UIに表示します。
-   `getHandKey()`: 2枚のカードから、`handStrengthMatrix` を参照するためのキー（例: `AKs`, `77`, `T9o`）を生成します。
-   `checkAnswer()`: ユーザーが選択したアクションが、`handStrengthMatrix` に基づく正解と一致するかを判定します。

## スタイルとデザイン (Styling and Design)

`style.css` によって、アプリケーションの見た目が定義されています。

-   全体的にダークモードを基調としたデザインです。
-   アクションランク（A〜I）ごとに異なる色が `:root` 内のCSS変数で定義されており、ボタンやハンドレンジチャートのセルに適用されます。これにより、ユーザーは視覚的にランクを識別しやすくなっています。
-   カードやボタンには、影や角丸が適用され、モダンで使いやすいUIが意識されています。

## 外部リンク (External Links)

-   **解説動画**: [https://www.youtube.com/watch?v=NDouTGvor-k](https://www.youtube.com/watch?v=NDouTGvor-k)
-   **開発者ノート**: [https://note.com/vivid_crab7784/n/n9fa464f24099](https://note.com/vivid_crab7784/n/n9fa464f24099)
